<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script>
        // var insertHTML = "";
        function Hieroglyph(unicodeCode, gardinerCode, gardinerCategory, adjustedGardinerCode, additionalDetails) {
            return {'unicodeCode': unicodeCode, 'gardinerCode': gardinerCode, 'gardinerCategory': gardinerCategory, 'adjustedGardinerCode': adjustedGardinerCode, 'additionalDetails': additionalDetails}
        }

        function Dictionary(gardiner, transliteration, translation, other) {
            var tmpother = other === 'null' ? '' : other;
            var translationCombined = translation + " " + tmpother;
            translationCombined = translationCombined.replace(/'/g, "\\'");

            // insertHTML += "INSERT INTO `dictionary` (`gardiner`, `transliteration`, `translation`) VALUES ('" + gardiner + "', '" + transliteration + "', '" + translationCombined + "');<br/>";
            return {'gardiner': gardiner, 'transliteration': transliteration, 'translation': translation, 'other': other}
        }

    </script>
<!--    <script src="./dictionary.js"></script>-->
<!--    <script src="./hieroglyphs.js"></script>-->
    <script src="./dict.js"></script>
    <script src="./phonetic.js"></script>
    <script src="./definition.js"></script>
    <script src="./hieroglyphs.js"></script>
    <style>
        .row {
            display:table-row
        }

        .cellA {
            display:table-cell;
            width:200px;
        }

        .cellB {
            display:table-cell;
            overflow-wrap: break-word;
            width:400px;
            word-break: break-all;
            white-space: normal;
        }
    </style>
</head>
<body>

<h1>Hieroglpyh Lookup</h1><br/>
<div style="display:table">
<div id="hiero"></div>
</div>
<div style="display:table">
<h1>Phonetic Lookup</h1><br/>
<div style="display:table">
<div id="phonet"></div>
</div>
<h1>Definition Lookup</h1><br/>
<div id="defi"></div>
</div>
<script src="./testStuff.js"></script>
<script>
    function parseGardiner(tmp, delimiter) {
        var splarr = tmp.split(delimiter);
        var uni = "<span style=\"font-size: 20pt\">";
        for (const str of splarr) {
            var tmpmap = hmap[str.trim()];
            if (tmpmap) {
                uni += hex2char(hmap[str.trim()].unicodeCode);
            } else {

                uni += "<span style=\"font-size: 12pt\">" + str + "</span>";
            }
        }
        uni += "</span>";

        return uni;
    }

    function processGardiner(tmp) {
        // var tmpa = tmp.gardiner.split("-")
        var delimiter = "-";
        /*if (tmp.indexOf(" ") !== -1) {
            delimiter = " ";
        }*/
        var uni = "";
        if (tmp.indexOf(",") !== -1) {
            var comsplarr = tmp.split(",")
            for (const com of comsplarr) {
                // console.log("compsplarr " + com);

                uni += parseGardiner(com, delimiter);
                uni += ",&nbsp;&nbsp;"
            }
        } else {
            uni += parseGardiner(tmp, delimiter);
        }

        return uni;
    }

    function displaySection(firstCell, secondCell) {
        return "<div class='row'><div class='cellA'>" + firstCell + "</div><div class='cellB'>" + secondCell + " </div></div>";
    }

    function iteration() {
        // var html = "<table>";
        var html = "";

        for (var d in dmap) {
            var dict = dmap[d];
            var uni = processGardiner(dict.gardiner);
            html += displaySection(uni, "[<b>" + dict.transliteration + "</b>] " + dict.translation + " <br/>{" + dict.gardiner + "}");
            // html += "<tr><td>" + uni + "</td><td>" +"&nbsp;&nbsp;&nbsp;&nbsp;[<b>" + dict.transliteration + "</b>] <b>" + dict.translation + "</b> {" + dict.gardiner + "}"+ " </td></tr>";
            // html += "<div class='row'><div class='cell'>" + uni + "</div><div class='cell'>" +"&nbsp;&nbsp;&nbsp;&nbsp;[<b>" + dict.transliteration + "</b>] <b>" + dict.translation + "</b> {" + dict.gardiner + "}"+ " </div></div>";
        }
        // html += "</table><br/>";

        document.getElementById("hiero").innerHTML = html;
    }

    iteration();

    function phoneti() {
        var html = "";
        // var html = "<table>";

        for (var d in phonmap) {
            var dict = phonmap[d];
            var uni = processGardiner(dict.gardiner);

            html += displaySection(dict.transliteration, "<b>" + uni + "</b>  <br/>" + dict.translation + " <br/>{" + dict.gardiner + "}");
            // html += "<tr><td>" + dict.transliteration + "</td><td>" +"&nbsp;&nbsp;&nbsp;&nbsp;<b>" + uni + "</b>  " + dict.translation + " {" + dict.gardiner + "}"+ " </td></tr>";
        }

        // html += "</table><br/>";

        document.getElementById("phonet").innerHTML = html;
    }

    phoneti();

    function definition() {
        // var html = "<table>";
        var html = "";

        for (var d in defmap) {
            var dict = defmap[d];
            var uni = processGardiner(dict.gardiner);

            html += displaySection(dict.translation, "" + uni + "<br/> [<b>" + dict.transliteration + "</b>]  <br/>{" + dict.gardiner + "}");
            // html += "<tr><td>" + dict.translation + "</td><td>" +"&nbsp;&nbsp;&nbsp;&nbsp;" + uni + " [<b>" + dict.transliteration + "</b>]  {" + dict.gardiner + "}"+ "</td></tr>";
        }
        // html += "</table><br/>";

        document.getElementById("defi").innerHTML = html;
    }

    definition();
</script>
</body>
</html>
